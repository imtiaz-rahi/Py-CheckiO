<style>
    p.quote-source {
        float: right;
        font-size: 10px;
    }
</style>

<div class="story">
    <p>
        Dr. Emmett Brown: If my calculations are correct, when this baby hits 88 miles per hour...
        you're gonna see some serious shit.
    </p>

    <p>===</p>

    <p>
        Marty McFly: Hey, Doc, we better back up. We don't have enough road to get up to 88.<br>
        Dr. Emmett Brown: Roads? Where we're going, we don't need roads.
    </p>

    <p class="quote-source">
        "Back to the Future" (1985)
    </p>

    <div style="clear: right;"></div>
</div>

<p>
    According to ancient Chinese legend, 88 is a magic number. On the 88th page of the book, "Ancient human puzzles
    catalog for modern robots", you will find a puzzle which Nikola’s archaeologist uncle discovered a very long time
    ago
    in an ancient human magazine. Nikola has been trying to solve this puzzle since he first rolled off his parents
    assembly line, and now it’s time for us to help him figure this out once and for all.
</p>
<p>
    The puzzle looks like four intersecting circles with 12 colored marbles: 2 red, 2 blue, 2 green, 2 orange and 4
    grey. Take a look at the illustration to see how this setup works. The marbles should be placed as it shown below.
    Each hole and color has a number for data representing a state. Colored numbers: 1 - blue, 2 - green, 3 - red, 4 -
    orange, 0 - grey. The initial state (or completed) will be represented as the sequence of numbers, where an index is
    a “hole” number:
    <br>
    (1, 2, 1, 0, 2, 0, 0, 3, 0, 4, 3, 4).
</p>
<p style="text-align: center;">
    <img title="initial_state" src="https://py-static.checkio.org/media/task/media/c8b831b6dc214fa3ae62a24812c4b17d/initial_state.png" alt="initial_state" width="300px"/>
</p>

<p>
    You can rotate the rings clockwise. Each move rotates the ring by 90 degrees. The rings are numbered and sequence of
    action should be represented as a list/tuple of numbers from 1 to 4.
</p>

<p>
    You are given a twisted puzzle state as a tuple of numbers. You should return it to the initial state with the
    minimal number of steps. For example, the state in the picture below would be represented as
    (0,2,1,3,2,1,4,0,0,4,0,3) and can be solved in 4 steps "1433" or "4133".
    The first means "rotate 1st ring one time (by 90 degrees of course), 4th - one time, 3th - two times.

</p>
<p style="text-align: center;">
    <img title="state" src="https://py-static.checkio.org/media/task/media/c8b831b6dc214fa3ae62a24812c4b17d/state.png" alt="state" width="300px"/>
</p>
<p>
    <strong>Input: </strong> A puzzle state as a tuple of integers.
</p>

<p>
    <strong>Output: </strong> The shortest solution as a string.
</p>


<div class="for_info_only">
    <p>
        <strong>Example:</strong>
    </p>
    <pre class="brush: python">
puzzle88((0,2,1,3,2,1,4,0,0,4,0,3)) == "1433"
    </pre>
</div>

<p class="for_info_only">
    <strong>How it is used: </strong>
    This is one more puzzle which will show you how you can use computer modeling and simulation to solve an abstract
    problem - in this case, a combinatorial problem.
</p>

<p>
    <strong>Precondition:</strong><br>
    len(state) == 12<br>
    all(0 &le; n &le; 4 for n in state)<br>
    All test cases are solvable.

</p>